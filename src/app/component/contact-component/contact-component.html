<section id="contact" class="contact-section py-5">
  <div class="container text-center">
    
    <div class="contact-header mb-5">
      <span class="contact-label">CONTACT US</span>
      <div class="header-line mx-auto"></div>
      <h2 class="contact-title">HAVE A <span class="highlight">#QUESTION?</span></h2>
    </div>

    <div class="row text-start justify-content-center">
      
      <div class="col-lg-5">
        <h3 class="form-heading">Ask us anything!</h3>
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
          <div class="row g-3 mb-3">
            <div class="col-md-6">
              <input type="text" formControlName="name" class="form-control custom-input" placeholder="Your Name...">
              
              @if (contactForm.get('name')?.touched && contactForm.get('name')?.invalid) {
                <div class="error-container">
                  @if (contactForm.get('name')?.errors?.['required']) {
                    <small class="text-danger">Name is required</small>
                  } @else if (contactForm.get('name')?.errors?.['minlength']) {
                    <small class="text-danger">Min 3 characters (Current: {{ contactForm.get('name')?.errors?.['minlength'].actualLength }})</small>
                  }
                </div>
              }
            </div>

            <div class="col-md-6">
              <input type="email" formControlName="email" class="form-control custom-input" placeholder="Your @e-mail...">
              
              @if (contactForm.get('email')?.touched && contactForm.get('email')?.invalid) {
                <div class="error-container">
                  <small class="text-danger">A valid e-mail is required</small>
                </div>
              }
            </div>
          </div>

          <div class="mb-4">
            <textarea formControlName="message" class="form-control custom-input" rows="5" placeholder="Your Message..."></textarea>
            
            @if (contactForm.get('message')?.touched && contactForm.get('message')?.invalid) {
              <div class="error-container">
                @if (contactForm.get('message')?.errors?.['required']) {
                  <small class="text-danger">Message is required</small>
                } @else if (contactForm.get('message')?.errors?.['minlength']) {
                  <small class="text-danger">Min 5 characters (Current: {{ contactForm.get('message')?.errors?.['minlength'].actualLength }})</small>
                }
              </div>
            }
          </div>

          <button type="submit" [disabled]="contactForm.invalid" class="bouton-orange w-100 py-3">SEND</button>
        </form>
      </div>

      <div class="col-lg-4 offset-lg-1">
        <h3 class="form-heading">Our contact info</h3>
        <div class="dynamic-info mt-4">
          <p class="info-content">{{ contactInfo?.contenu }}</p>
        </div>
      </div>

    </div>
  </div>
</section>